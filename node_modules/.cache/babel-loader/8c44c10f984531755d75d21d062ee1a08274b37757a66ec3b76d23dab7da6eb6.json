{"ast":null,"code":"import React from'react';import CleanPlaylist from'./CleanPlaylist';import'./Playlists.css';import SpotifyWebApi from'spotify-web-api-js';const spotifyApi=new SpotifyWebApi();class Playlists extends React.Component{constructor(props){super(props);this.playlistIsSelected=event=>{var currentPlaylistId=event.target.getAttribute(\"id\");var playlistOwnerId=event.target.getAttribute(\"owner\");var playlistName=event.target.getAttribute(\"name\");this.setState({playlistSelected:true,currentSelected:currentPlaylistId,ownerId:playlistOwnerId,playlistName:playlistName});};this.state={ownerId:'',playlistList:[],playlistSelected:false,currentSelected:'',playlistName:'',noPlaylists:false};}getPlaylistData(){var playlistItems=[];spotifyApi.getUserPlaylists({limit:50}).then((response,onRejected)=>{console.log(response);if(response.items.length===0||response.item===null){this.setState({noPlaylists:true});}response.items.map(item=>{if(item.images===null){item.images=[{url:\"https://static.vecteezy.com/system/resources/previews/011/934/413/original/silver-music-note-icon-free-png.png\"}];}playlistItems.push({ownerId:item.owner.id,id:item.id,name:item.name,image:item.images[0].url});return playlistItems;});this.setState({playlistList:playlistItems});});}componentDidMount(){this.getPlaylistData();}backButton(){this.setState({playlistSelected:false});}render(){const userId=this.props.user;const playlistId=this.state.currentSelected;const ownerId=this.state.ownerId;const selected=this.playlistIsSelected;const showPlaylist=this.state.playlistList.map(function(playlist){return/*#__PURE__*/React.createElement(\"div\",{key:playlist.id,className:\"col-sm-6 col-md-4 col-lg-3 col-12 card\"},/*#__PURE__*/React.createElement(\"img\",{src:playlist.image,id:playlist.id,name:playlist.name,owner:playlist.ownerId,onClick:selected,className:\"card-img card-img-top\",alt:\"card\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"p\",{className:\"card-text font-weight-bold\"},playlist.name)));});return/*#__PURE__*/React.createElement(\"div\",{className:\"Playlist\"},this.state.playlistSelected?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success float-left mt-n1\",onClick:this.backButton.bind(this)},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-arrow-circle-left\",\"aria-hidden\":\"true\"}),\" Clean Another\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(CleanPlaylist,{name:this.state.playlistName,id:ownerId,data:playlistId,user:userId}))):/*#__PURE__*/React.createElement(\"div\",{className:\"user-playlists overflow-hidden\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"font-weight-bold header\"},\"Playlists\"),/*#__PURE__*/React.createElement(\"h3\",{className:\"h5 text-weight-bold text-success sub-header \"},\" Select a Playlist to Clean\"),/*#__PURE__*/React.createElement(\"p\",{className:\" text-muted sub-sub-header\"},\" Don't worry! We will not alter your original playlist.\"),/*#__PURE__*/React.createElement(\"p\",{className:\" text-muted sub-sub-header\"},\" Can't find it? Make sure you either own or follow the playlist. If so, open Spotify and move it to the top of your list!\"),/*#__PURE__*/React.createElement(\"hr\",{className:\"divider mb-5\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},this.state.noPlaylists?/*#__PURE__*/React.createElement(\"div\",{class:\"text-center col-12\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Oh no! You do not have any existing playlists to clean.\"),/*#__PURE__*/React.createElement(\"h4\",null,\" Open Spotify to create a new playlist and revisit Cleanify.\"),/*#__PURE__*/React.createElement(\"a\",{href:\"https://open.spotify.com\",target:\"_blank\",rel:\"noopener noreferrer\",class:\"btn btn-success\"},\"Open Spotify\")):showPlaylist)));}}export default Playlists;","map":{"version":3,"names":["React","CleanPlaylist","SpotifyWebApi","spotifyApi","Playlists","Component","constructor","props","playlistIsSelected","event","currentPlaylistId","target","getAttribute","playlistOwnerId","playlistName","setState","playlistSelected","currentSelected","ownerId","state","playlistList","noPlaylists","getPlaylistData","playlistItems","getUserPlaylists","limit","then","response","onRejected","console","log","items","length","item","map","images","url","push","owner","id","name","image","componentDidMount","backButton","render","userId","user","playlistId","selected","showPlaylist","playlist","createElement","key","className","src","onClick","alt","type","bind","data","class","href","rel"],"sources":["/Users/brianaking/cleanify/src/components/Playlists.js"],"sourcesContent":["import React from 'react';\nimport CleanPlaylist from './CleanPlaylist'\nimport './Playlists.css';\nimport SpotifyWebApi from 'spotify-web-api-js';\nconst spotifyApi = new SpotifyWebApi();\n\nclass Playlists extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      ownerId: '',\n      playlistList: [],\n      playlistSelected: false,\n      currentSelected: '',\n      playlistName: '',\n      noPlaylists: false\n    };\n  }\n\n  getPlaylistData(){\n    var playlistItems= [];\n\n      spotifyApi.getUserPlaylists({limit:50})\n         .then((response, onRejected) => {\n          console.log(response)\n           if (response.items.length === 0 || response.item === null){\n             this.setState({\n               noPlaylists: true\n             })\n           }\n           response.items.map((item) => {\n             if (item.images === null){\n               item.images = ([{url: \"https://static.vecteezy.com/system/resources/previews/011/934/413/original/silver-music-note-icon-free-png.png\"}])\n             }\n             playlistItems.push({ownerId: item.owner.id, id: item.id, name:item.name, image: item.images[0].url})\n             return playlistItems\n           })\n          this.setState({\n            playlistList: playlistItems\n          })\n       });\n\n   }\n\n   componentDidMount(){\n     this.getPlaylistData()\n   }\n\n   playlistIsSelected = (event) => {\n\n     var currentPlaylistId = event.target.getAttribute(\"id\")\n     var playlistOwnerId = event.target.getAttribute(\"owner\")\n     var playlistName = event.target.getAttribute(\"name\")\n     this.setState({\n       playlistSelected: true,\n       currentSelected: currentPlaylistId,\n       ownerId: playlistOwnerId,\n       playlistName: playlistName\n     });\n   }\n\n   backButton(){\n     this.setState({\n       playlistSelected:false\n     })\n   }\n\n  render(){\n    const userId = this.props.user\n    const playlistId = this.state.currentSelected\n    const ownerId = this.state.ownerId\n\n    const selected = this.playlistIsSelected\n\n    const showPlaylist =\n      this.state.playlistList.map(function(playlist){\n        return (\n          <div key={playlist.id} className=\"col-sm-6 col-md-4 col-lg-3 col-12 card\">\n             <img src={playlist.image} id= {playlist.id} name= {playlist.name} owner = {playlist.ownerId} onClick={selected} className=\"card-img card-img-top\" alt=\"card\"/>\n             <div className=\"card-body\">\n               <p className=\"card-text font-weight-bold\">{playlist.name}</p>\n             </div>\n          </div>\n           )\n      });\n\n\n\n    return (\n      <div className=\"Playlist\">\n\n      {\n        this.state.playlistSelected ?\n        <div>\n          <div className=\"row\">\n          <div className=\"col\">\n            <button type=\"button\" className=\"btn btn-success float-left mt-n1\" onClick={this.backButton.bind(this)}><i className =\"fa fa-arrow-circle-left\" aria-hidden=\"true\"></i> Clean Another</button>\n          </div>\n          </div>\n          <div className=\"row\">\n            <CleanPlaylist name= {this.state.playlistName} id= {ownerId} data= {playlistId} user= {userId}></CleanPlaylist>\n          </div>\n        </div>\n        : <div className=\"user-playlists overflow-hidden\">\n            <h3 className=\"font-weight-bold header\">Playlists</h3>\n            <h3 className=\"h5 text-weight-bold text-success sub-header \"> Select a Playlist to Clean</h3>\n            <p className=\" text-muted sub-sub-header\"> Don't worry! We will not alter your original playlist.</p>\n            <p className=\" text-muted sub-sub-header\"> Can't find it? Make sure you either own or follow the playlist. If so, open Spotify and move it to the top of your list!</p>\n            <hr className=\"divider mb-5\"/>\n              <div className=\"row\">\n              {this.state.noPlaylists ?\n                <div class=\"text-center col-12\">\n                  <h3>Oh no! You do not have any existing playlists to clean.</h3>\n                  <h4> Open Spotify to create a new playlist and revisit Cleanify.</h4>\n                  <a href=\"https://open.spotify.com\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"btn btn-success\">Open Spotify</a>\n                </div>\n                :\n                showPlaylist\n              }\n              </div>\n          </div>\n      }\n      </div>\n\n    );\n  }\n}\n\n\nexport default Playlists\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}